## 💡ネットワーク接続エラー（NetworkConnectionError）{#network}。

### 原因
- COEIROINKローカルサーバー(通常 `127.0.0.0.1:50032`)が実行中でないか、
  ファイアウォールまたはアンチウイルスプログラムによってポートへのアクセスがブロックされている。  
- PCがオフライン状態か、ローカルループバック通信が無効になっている。  

### 解決方法
1. **COEIROINKエンジンが実行中であることを確認してください。**
    - COEIROINK GUIまたはCLIサーバーが開いている必要があります。
    - 127.0.0.0.0.1:50032`ポートが開いているか確認してください。
2. **ファイアウォール/セキュリティプログラムの例外登録**。
    - `coeiroink.exe` または `voicevox_engine.exe` がブロックされないように例外処理します。  
3. **エンジンの再起動**
    - COEIROINKを終了後、再起動すると、ポートが新たに初期化されます。  
4. **インターネット接続の確認(必要な場合)**
    - 一部の外部リソースを呼び出す場合、ネットワーク接続が必要な場合があります。  


## 💡 COEIROINKサーバー接続に失敗しました(CoeiroinkServerConnectionError) {#coeiroink-server}。

### 原因
- ローカルCOEIROINKサーバーがオフになっているか、APIポート(`50032`)が変更された。  
- 複数のアプリケーションが同時に同じポートを使用している。  

### 解決方法
1. COEIROINKを実行後、**"APIサーバーを有効にする"**"**オプションをオンにします。  
    GUIではなく、CLIモードで実行していることを確認してください。
2. Windowsのコマンドプロンプトで以下を入力：
    netstat -ano | find "50032"
    → ポートが"LISTENING"状態でなければ、COEIROINKが実行されていないことになります。
3. ポートが競合する場合、他のポートを指定して実行後、設定ファイルで変更します。
    設定ファイルで該当ポートに変更します。  

 
## 💡 サーバー応答解釈エラー (CoeiroinkJsonParseError) {#coeiroink-json} {#coeiroink-json

### 原因
- COEIROINKサーバーが異常なJSONデータを返す。  
- エンジンのバージョンが異なるか、応答フォーマットが変更された。  
- リクエストの途中で強制終了し、JSONが完全でない。  

### 解決方法
1. **COEIROINKのバージョン確認**
    - VoiceScriptPlayerが使用するAPIバージョンと互換性のあるバージョンであることを確認します。  
    - 古いバージョンであれば、最新のCOEIROINKエンジンにアップデートしてください。
2. **文章の簡略化**
    - 長すぎる文章や特殊文字を含む文章は、JSON変換中に問題が発生する可能性があります。  
3. **ログファイルの確認**
    - COEIROINKコンソールまたはログで"predict_with_duration"エラーメッセージを確認してください。


## 💡Prosodyデータを取得できませんでした(CoeiroinkProsodyEmpty) {#coeiroink-text}。

### 原因
- 入力文が短すぎるか、サポートされていない文字の組み合わせが含まれている。  
- PredictProsodyDetail()`の呼び出しが失敗しましたが、例外が検出されませんでした。  

### 解決方法
1. **入力文を短く分割してテスト**
    - 100文字以下の文章に分割して再試行します。  
2. **非正常文字を削除して再試行します**
    - 特殊記号、制御文字、絵文字を削除して再試行します。  
3. **エンジンログの確認**
    - "predict_with_duration"リクエスト時に応答が空白の場合、エンジンが一部の文字を処理できなかった可能性があります。  


## 💡Prosody予測失敗 (CoerioinkPredictError) {#coeiroink-prosody} {#coeiroink-prosody}

### 原因
- prosody予測要求(`/v1/predict_with_duration`)が失敗しました。  
- APIレスポンスコードが400、404、500などとして返される。  

### 解決方法
1. **COEIROINKサーバーログの確認**
    - "predict_with_duration"段階でどのようなエラーが発生したかを確認します。  
2. **入力テキストの簡略化**
    - 長い文章、絵文字、日本語以外の文字を削除してテストします。  
3. **速度調整の確認**
    - `speedScale`の値が0以下または大きすぎると処理に失敗する可能性があります。  


## 💡 オーディオ処理失敗 (CoerioinkProcessError) {#coeiroink-process} {#coeiroink-process}

### 原因
- `v1/process`リクエストで音声生成中にエラーが発生。
- prosody 予測段階で生成された `wavBase64` データが破損している。  

### 解決方法
1. **生成を再試行する**
    - 同じ文章を再試行すると、一時的なキャッシュの問題である可能性があります。  
2. **エンジンログの確認**
    - "process"段階でエラーコードが出力されたか確認します。  
3. **pitchScale、intonationScaleの値を確認します**
    - 高すぎる値(例えば、5.0以上)は内部計算エラーを引き起こす可能性があります。  


## 💡生成されたオーディオデータが空である(CoeioinkEmptyAudio) {#coeiroink-empty}。

### 原因
- エンジンが音声を出力できず、空の応答を返す。  
- 一部の文に発音可能なモーラがない(例えば、記号だけが含まれる文)。  

### 解決方法
1. **文章を再確認する**
    - "...", "♪", "♡" など発音できない文字は削除します。  
2. **エンジンを再起動する**
    - COEIROINKを再起動すると、一時キャッシュが初期化されます。  
3. **別の話者/スタイルで試す**
    - 特定の音声スタイルでエラーが発生する場合があります。  


## 💡オーディオフォーマットエラー(CoeioinkInvalidAudioFormat) {#coeiroink-format-format}。

### 原因
- エンジンがWAVの代わりにエラーメッセージをテキストで返す。  
- WAVヘッダーが破損しているか、データが途中で切れている。  

### 解決方法
1. **出力ファイルを確認する***
    - 実際に返されたファイルがWAVヘッダー（"RIFF"）で始まることを確認します。  
2. **COEIROINKのアップデート**
    - 古いバージョンのエンジンでは、一部の設定値を処理できない場合があります。  
3. **短い文章でテストしてください**
    - 過度に長いテキストを入力すると、エンジン内部のバッファオーバーを引き起こす可能性があります。  

 
## 💡不明なCOEIROINKエラー(CoeiroinkUnknownError) {#coeiroink-general}。

### 原因
- 処理中の予期せぬ例外発生(ファイルアクセス、メモリ不足など)。  
- VoiceScriptPlayerとCOEIROINK間のプロトコル不一致。  

### 解決方法
1. **VoiceScriptPlayerとCOEIROINKのバージョンを確認してください**
    - 可能な限り最新のバージョンを使用してください。
2. **プロジェクトを再起動してください**
    - 一時的なキャッシュとセッションデータが壊れている可能性があります。  
3. **開発者にお問い合わせください**
    - ログファイル(`vsp_log.txt`など)を添付して、issue trackerまたはPatreonに報告してください。
