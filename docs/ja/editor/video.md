# ビデオタブ

ビデオタブは、プロジェクトに含まれる**動画ファイルを管理し、字幕の生成・翻訳・編集**を行うためのタブです。  
機能構成は **サウンドタブと同じ** ですが、TTS（音声合成）機能のみが除かれています。  
動画はプロジェクトの**視覚的基準**として使用され、主に字幕とオーディオの同期確認に利用されます。

---

## 1. 基本インターフェース

![video-main](../images/video-main.png)

| コンポーネント | 説明 |
|----------------|------|
| **① プロジェクトに含める** | チェックを入れると、動画がプロジェクト内部 (`Asset/Video/`) にコピーされます。<br>チェックを外すと、外部ファイルとして参照のみ行います。 |
| **② インポート** | `.mp4`、`.mov` などの動画ファイルを読み込みます。 |
| **③ 編集 ✏️** | 選択した動画の字幕編集ウィンドウを開きます（サウンドタブと同じエディター）。 |
| **④ 削除 🗑️** | 選択した動画をリストから削除します（実際のファイルは削除されません）。 |
| **⑤ エクスポート ↗ / 再インポート ↙** | 動画を外部に出力、またはプロジェクトに再追加します。 |
| **⑥ フォルダーを開く 📂** | `Asset/Video/` フォルダーを直接開きます。 |

---

### ⚙️ 動作概要

| 状況 | 結果 |
|------|------|
| 「プロジェクトに含める」をチェックしてインポート | 動画が `Asset/Video/` に**コピー**されます。 |
| チェックを外してインポート | 外部ファイルとして**参照のみ**行われ、容量を節約します。 |
| 「外部にエクスポート」を使用 | 選択した動画を指定フォルダーにコピーします。 |
| 「再インポート」を使用 | 外部にある動画をプロジェクトに再追加します。 |

> 💡 **ヒント：**  
> - 「プロジェクトに含めない」と容量が減り、読み込み速度が向上します。  
> - 外部ファイルを直接編集すると、変更が自動的に反映されます。  
> - ただし、エクスポート時には参照ファイルはパッケージに含まれません。

---

## 2. ビデオエディター（Video Editor）

![video-editor](../images/video-editor.png)

動画を選択して **✏️ 編集** ボタンをクリックすると  
`Video Editor` ウィンドウが開きます。  
このエディターは **サウンドタブの字幕エディター（Medio Editor）** と同じインターフェースを持ちます。

---

### 🎛️ 主な機能

| 項目 | 説明 |
|------|------|
| **名前 / 長さ / ループ** | 動画の再生範囲とループ設定。 |
| **AI設定** | Whisper、DeepL などのAIエンジンを直接設定可能。 |
| **音声言語** | 字幕生成（STT）で使用する音声の言語を指定。 |
| **翻訳言語** | 字幕を翻訳する際のターゲット言語を指定。 |
| **音声を字幕に変換** | WhisperなどのSTTエンジンで動画音声を字幕化。 |
| **字幕翻訳** | 生成された字幕を他の言語に自動翻訳。 |
| **字幕編集** | 時間・位置・フォント・色などを調整可能。 |

---

### 🗣️ 字幕生成と翻訳

字幕関連の操作はサウンドタブと同じ手順で行います：

1. 動画の **音声言語** を選択します。  
2. **[音声を字幕に変換]** ボタンをクリックしてSTTを実行します。  
3. 変換結果は右側リストに表示され、手動で編集可能です。  
4. **[字幕翻訳]** ボタンで指定した言語に自動翻訳します。

| 項目 | 説明 |
|------|------|
| **StartTime / EndTime** | 字幕の表示区間を調整。 |
| **Dock / X / Y** | 字幕の表示位置を設定。 |
| **FontSize / OutlineSize** | フォントサイズと外枠の太さを指定。 |
| **Fill / Outline** | 字幕文字と外枠の色を指定。 |

> ⚙️ **AIエンジン設定：**  
> - [AI → Whisper](../ai/whisper.md)  
> - [AI → DeepL](../ai/deepl.md)  
> - [AI → LibreTranslate](../ai/libretranslate.md)

---

### ▶️ プレビュー

- ▶ ボタンを押して、動画と字幕の同期をリアルタイムで確認できます。  
- 動画の長さに合わせて自動的にスクラブバーが表示されます。  

---

## 3. タイムラインへの追加

動画はサウンドと同様に、**ドラッグ＆ドロップでタイムラインに追加**できます。

- 左側のリストから動画をトラック上にドラッグすると、ノードが自動生成されます。  
- タイムライン上で位置や長さを自由に調整可能。  
- サウンド、Live2D、UI、イベントなどと同時再生され、視覚的に同期します。

> 💡 **参考：**  
> 動画ノードはサウンドトラックと同じ時間軸を共有しているため、  
> 音声との同期確認や字幕タイミング調整に非常に便利です。

---

## 4. ファイルパスと管理

| 項目 | パス |
|------|------|
| **動画ファイル** | `Asset/Video/` |
| **字幕ファイル** | `Asset/Video/` |
| **サムネイルキャッシュ** | `Asset/Video/` （プレビュー用画像） |

---

## 5. 関連ドキュメント

- [サウンドタブ](sound.md)  
- [タイムライン編集](timeline.md)  
- [AI → 音声認識 (Speech Recognition)](../ai/speechRecognition.md)  
- [AI → DeepL / LibreTranslate](../ai/deepl.md)  
